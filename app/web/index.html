<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üéÆ Painel Minecraft Bedrock Server</title>
    <link rel="stylesheet" href="style.css">
    <link rel="shortcut icon" href="icon.ico" type="image/x-icon">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <div class="header-content">
                <h1><i class="fas fa-cube"></i> Painel Minecraft Bedrock Server</h1>
                <div class="header-actions">
                    <button id="selectServerBtn" class="btn btn-primary">
                        <i class="fas fa-folder-open"></i> Selecionar Pasta do Servidor
                    </button>
                    <div class="server-controls">
                        <button id="startServerBtn" class="btn btn-success">
                            <i class="fas fa-play"></i> Iniciar Servidor
                        </button>
                        <button id="stopServerBtn" class="btn btn-danger">
                            <i class="fas fa-stop"></i> Parar Servidor
                        </button>
                    </div>
                </div>
            </div>
        </header>

        <!-- Navigation -->
        <nav class="nav-tabs">
            <button class="tab-btn active" data-tab="config">
                <i class="fas fa-cog"></i> Configura√ß√µes
            </button>
            <button class="tab-btn" data-tab="worlds">
                <i class="fas fa-globe"></i> Mundos
            </button>
            <button class="tab-btn" data-tab="world-config">
                <i class="fas fa-world"></i> Config. Mundo
            </button>
            <button class="tab-btn" data-tab="addons">
                <i class="fas fa-puzzle-piece"></i> Addons
            </button>
            <button class="tab-btn" data-tab="players">
                <i class="fas fa-users"></i> Jogadores
            </button>
            <button class="tab-btn" data-tab="network">
                <i class="fas fa-network-wired"></i> Rede
            </button>
            <button class="tab-btn" data-tab="updater">
                <i class="fas fa-download"></i> Atualizar
            </button>
            <button class="tab-btn" data-tab="console">
                <i class="fas fa-terminal"></i> Console
            </button>
        </nav>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Configura√ß√µes Tab -->
            <div id="config" class="tab-content active">
                <div class="section">
                    <h2><i class="fas fa-server"></i> Configura√ß√µes do Servidor</h2>
                    <div class="config-grid" id="configGrid">
                        <!-- Configura√ß√µes ser√£o carregadas aqui -->
                    </div>
                    <div class="section-actions">
                        <button id="saveConfigBtn" class="btn btn-success">
                            <i class="fas fa-save"></i> Salvar Configura√ß√µes
                        </button>
                        <button id="loadConfigBtn" class="btn btn-secondary">
                            <i class="fas fa-refresh"></i> Recarregar
                        </button>
                    </div>
                </div>
            </div>

            <!-- Mundos Tab -->
            <div id="worlds" class="tab-content">
                <div class="section">
                    <h2><i class="fas fa-globe"></i> Gerenciamento de Mundos</h2>
                    
                    <div class="world-actions">
                        <button id="importWorldBtn" class="btn btn-primary">
                            <i class="fas fa-upload"></i> Importar Mundo (.zip)
                        </button>
                        <button id="backupWorldBtn" class="btn btn-secondary">
                            <i class="fas fa-save"></i> Backup do Mundo Ativo
                        </button>
                        <button id="refreshWorldsBtn" class="btn btn-secondary">
                            <i class="fas fa-refresh"></i> Atualizar Lista
                        </button>
                    </div>

                    <div class="worlds-list" id="worldsList">
                        <!-- Lista de mundos ser√° carregada aqui -->
                    </div>
                </div>
            </div>

            <!-- Configura√ß√µes do Mundo Tab -->
            <div id="world-config" class="tab-content">
                <div class="section">
                    <h2><i class="fas fa-world"></i> Configura√ß√µes do Mundo</h2>
                    <p>Configure as regras de jogo, experimentos e addons do mundo atual</p>
                    
                    <div class="world-config-actions">
                        <button id="openWorldConfigBtn" class="btn btn-primary">
                            <i class="fas fa-external-link-alt"></i> Abrir Configura√ß√µes Avan√ßadas
                        </button>
                        <button id="refreshWorldConfigBtn" class="btn btn-secondary">
                            <i class="fas fa-refresh"></i> Atualizar Status
                        </button>
                    </div>

                    <div class="world-config-preview" id="worldConfigPreview">
                        <h3><i class="fas fa-info-circle"></i> Status do Mundo Atual</h3>
                        <div class="world-info" id="worldInfo">
                            <p>Carregando informa√ß√µes do mundo...</p>
                        </div>
                        
                        <h4><i class="fas fa-puzzle-piece"></i> Addons Aplicados</h4>
                        <div class="applied-addons-preview" id="appliedAddonsPreview">
                            <p>Carregando addons aplicados...</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Addons Tab -->
            <div id="addons" class="tab-content">
                <div class="section">
                    <h2><i class="fas fa-puzzle-piece"></i> Gerenciamento de Addons</h2>
                    
                    <div class="addon-actions">
                        <button id="importAddonBtn" class="btn btn-primary">
                            <i class="fas fa-upload"></i> Importar Addon (.zip/.mcaddon)
                        </button>
                        <button id="refreshAddonsBtn" class="btn btn-secondary">
                            <i class="fas fa-refresh"></i> Atualizar Lista
                        </button>
                    </div>

                    <div class="addons-container">
                        <div class="addon-section">
                            <h3><i class="fas fa-code"></i> Behavior Packs</h3>
                            <div class="addons-list" id="behaviorPacksList">
                                <!-- Behavior packs ser√£o listados aqui -->
                            </div>
                        </div>

                        <div class="addon-section">
                            <h3><i class="fas fa-image"></i> Resource Packs</h3>
                            <div class="addons-list" id="resourcePacksList">
                                <!-- Resource packs ser√£o listados aqui -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Jogadores Tab -->
            <div id="players" class="tab-content">
                <div class="section">
                    <h2><i class="fas fa-users"></i> Gerenciamento de Jogadores</h2>
                    
                    <div class="players-section">
                        <h3><i class="fas fa-crown"></i> Operadores (OPs)</h3>
                        
                        <div class="add-player-form">
                            <input type="text" id="newOpInput" placeholder="Nome do jogador" class="input">
                            <button id="addOpBtn" class="btn btn-success">
                                <i class="fas fa-plus"></i> Adicionar OP
                            </button>
                        </div>

                        <div class="players-list" id="operatorsList">
                            <!-- Lista de operadores ser√° carregada aqui -->
                        </div>
                    </div>
                </div>
            </div>

            <!-- Rede Tab -->
            <div id="network" class="tab-content">
                <div class="section">
                    <h2><i class="fas fa-network-wired"></i> Configura√ß√µes de Rede</h2>
                    
                    <div class="network-section">
                        <h3><i class="fas fa-globe"></i> Playit.gg - Acesso Remoto</h3>
                        <p>Configure um t√∫nel TCP para permitir acesso remoto ao servidor sem abrir portas no roteador</p>
                        
                        <div class="playit-status" id="playitStatus">
                            <div class="status-indicator">
                                <span class="status-dot offline" id="playitStatusDot"></span>
                                <span id="playitStatusText">Verificando...</span>
                            </div>
                        </div>

                        <div class="playit-controls">
                            <button id="startPlayitBtn" class="btn btn-success">
                                <i class="fas fa-play"></i> Iniciar T√∫nel
                            </button>
                            <button id="stopPlayitBtn" class="btn btn-danger">
                                <i class="fas fa-stop"></i> Parar T√∫nel
                            </button>
                            <button id="restartPlayitBtn" class="btn btn-warning">
                                <i class="fas fa-redo"></i> Reiniciar
                            </button>
                            <button id="refreshPlayitBtn" class="btn btn-secondary">
                                <i class="fas fa-refresh"></i> Atualizar Status
                            </button>
                        </div>

                        <div class="tunnel-info" id="tunnelInfo" style="display: none;">
                            <h4><i class="fas fa-link"></i> Endere√ßo P√∫blico do T√∫nel</h4>
                            <div class="tunnel-url">
                                <input type="text" id="tunnelUrlInput" class="input" readonly>
                                <button id="copyUrlBtn" class="btn btn-secondary">
                                    <i class="fas fa-copy"></i> Copiar
                                </button>
                            </div>
                            <div class="tunnel-details" id="tunnelDetails">
                                <!-- Detalhes do t√∫nel ser√£o exibidos aqui -->
                            </div>
                        </div>

                        <div class="playit-logs">
                            <h4><i class="fas fa-list"></i> Logs do Playit</h4>
                            <div class="console-container">
                                <div class="console" id="playitConsole">
                                    <!-- Logs do Playit aparecer√£o aqui -->
                                </div>
                                <div class="console-controls">
                                    <button id="clearPlayitLogsBtn" class="btn btn-secondary btn-sm">
                                        <i class="fas fa-trash"></i> Limpar Logs
                                    </button>
                                </div>
                            </div>
                        </div>

                        <div class="playit-download" id="playitDownload" style="display: none;">
                            <div class="alert alert-info">
                                <h4><i class="fas fa-download"></i> Playit.gg n√£o encontrado</h4>
                                <p>Para usar o acesso remoto, voc√™ precisa baixar o Playit.gg:</p>
                                <div class="download-instructions" id="downloadInstructions">
                                    <!-- Instru√ß√µes de download ser√£o carregadas aqui -->
                                </div>
                                <a href="https://playit.gg/download" target="_blank" class="btn btn-primary">
                                    <i class="fas fa-external-link-alt"></i> Baixar Playit.gg
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Atualizar Servidor Tab -->
            <div id="updater" class="tab-content">
                <div class="section">
                    <h2><i class="fas fa-download"></i> Atualizar Servidor Bedrock</h2>
                    <p>Atualize seu servidor Bedrock para uma nova vers√£o mantendo todos os dados importantes</p>
                    
                    <div class="updater-section">
                        <h3><i class="fas fa-info-circle"></i> Informa√ß√µes do Servidor Atual</h3>
                        <div class="server-info" id="serverInfo">
                            <p>Carregando informa√ß√µes do servidor...</p>
                        </div>
                    </div>

                    <div class="updater-section">
                        <h3><i class="fas fa-shield-alt"></i> Dados Preservados</h3>
                        <div class="preserved-data-info">
                            <p>Durante a atualiza√ß√£o, os seguintes dados ser√£o preservados:</p>
                            <div class="preserved-lists">
                                <div class="preserved-files">
                                    <h4><i class="fas fa-file"></i> Arquivos</h4>
                                    <ul>
                                        <li>server.properties</li>
                                        <li>permissions.json</li>
                                        <li>allowlist.json</li>
                                        <li>ops.json</li>
                                        <li>playit.exe / playit-linux</li>
                                    </ul>
                                </div>
                                <div class="preserved-folders">
                                    <h4><i class="fas fa-folder"></i> Pastas</h4>
                                    <ul>
                                        <li>worlds/ (todos os mundos)</li>
                                        <li>development_behavior_packs/</li>
                                        <li>development_resource_packs/</li>
                                        <li>config/</li>
                                        <li>worlds_backup/</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="updater-section">
                        <h3><i class="fas fa-upload"></i> Atualizar Servidor</h3>
                        <div class="update-controls">
                            <button id="selectNewServerBtn" class="btn btn-primary">
                                <i class="fas fa-folder-open"></i> Selecionar Nova Vers√£o
                            </button>
                            <button id="validateServerBtn" class="btn btn-secondary" disabled>
                                <i class="fas fa-check"></i> Validar Vers√£o
                            </button>
                            <button id="updateServerBtn" class="btn btn-success" disabled>
                                <i class="fas fa-download"></i> Executar Atualiza√ß√£o
                            </button>
                        </div>
                        
                        <div class="validation-result" id="validationResult" style="display: none;">
                            <!-- Resultado da valida√ß√£o ser√° exibido aqui -->
                        </div>
                    </div>

                    <div class="updater-section">
                        <h3><i class="fas fa-history"></i> Backups</h3>
                        <div class="backup-controls">
                            <button id="createBackupBtn" class="btn btn-secondary">
                                <i class="fas fa-save"></i> Criar Backup Manual
                            </button>
                            <button id="refreshBackupsBtn" class="btn btn-secondary">
                                <i class="fas fa-refresh"></i> Atualizar Lista
                            </button>
                        </div>
                        
                        <div class="backups-list" id="backupsList">
                            <p>Carregando lista de backups...</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Console Tab -->
            <div id="console" class="tab-content">
                <div class="section">
                    <h2><i class="fas fa-terminal"></i> Console do Servidor</h2>
                    
                    <div class="server-status" id="serverStatus">
                        <div class="status-indicator">
                            <span class="status-dot offline" id="serverStatusDot"></span>
                            <span id="serverStatusText">Verificando...</span>
                        </div>
                    </div>

                    <div class="console-section">
                        <div class="console-container">
                            <div class="console" id="serverConsole">
                                <!-- Logs do servidor aparecer√£o aqui -->
                            </div>
                        </div>
                        
                        <div class="command-input">
                            <input type="text" id="commandInput" placeholder="Digite um comando..." class="input">
                            <button id="sendCommandBtn" class="btn btn-primary">
                                <i class="fas fa-paper-plane"></i> Enviar
                            </button>
                            <button id="clearConsoleBtn" class="btn btn-secondary">
                                <i class="fas fa-trash"></i> Limpar
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <!-- Status Bar -->
        <div class="status-bar">
            <div class="status-info">
                <span id="serverPath">Nenhuma pasta selecionada</span>
            </div>
            <div class="status-actions">
                <span id="statusMessage">Pronto</span>
            </div>
        </div>
    </div>

    <!-- Loading Overlay -->
    <div id="loadingOverlay" class="loading-overlay">
        <div class="loading-spinner">
            <i class="fas fa-spinner fa-spin"></i>
            <p>Carregando...</p>
        </div>
    </div>

    <!-- Modal -->
    <div id="modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modalTitle">T√≠tulo</h3>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body" id="modalBody">
                <!-- Conte√∫do do modal -->
            </div>
            <div class="modal-footer">
                <button id="modalConfirm" class="btn btn-primary">Confirmar</button>
                <button id="modalCancel" class="btn btn-secondary">Cancelar</button>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>